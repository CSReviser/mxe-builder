tar -czf mxe-fixed.tar.gz --owner=0 --group=0 -C ./


#!/usr/bin/env bash
set -e

SRC_DIR="$PWD/qt-everywhere-src-6.9.0"
BUILD_DIR="$PWD/qt-build"
INSTALL_DIR="$BUILD_DIR/qt6-static-install"

cd "$SRC_DIR"

./configure -top-level \
  -prefix "$INSTALL_DIR" \
  -static -static-runtime -release \
  -opensource -confirm-license \
  -nomake tests -nomake examples \
  -no-pch \
  -qt-harfbuzz -qt-pcre -qt-zlib \
  -platform linux-g++ \
  -c++std c++20 \
  -skip qt3d -skip qtactiveqt -skip qtcharts -skip qtconnectivity \
  -skip qtdatavis3d -skip qtdoc -skip qtgamepad -skip qtgraphicaleffects \
  -skip qtimageformats -skip qtlocation -skip qtmacextras -skip qtnetworkauth \
  -skip qtpurchasing -skip qtquick3d -skip qtquickcontrols \
  -skip qtquickcontrols2 -skip qtremoteobjects -skip qtscxml \
  -skip qtsensors -skip qtserialbus -skip qtserialport -skip qtspeech \
  -skip qttools -skip qttranslations -skip qtvirtualkeyboard -skip qtwayland \
  -skip qtwebchannel -skip qtwebengine -skip qtwebsockets \
  -skip qtwebview -skip qtwinextras -skip qtlottie -skip qtmultimedia \
  -skip qtpositioning -skip qtquicktimeline \
  # 含めるのは qtbase（デフォルト）+ qtsvg のみ

cmake --build "$BUILD_DIR" --parallel
cmake --install "$BUILD_DIR"
#!/usr/bin/env bash
set -e

# ビルド用ディレクトリ
SRC_DIR="$PWD/qt-everywhere-src-6.9.0"
BUILD_DIR="$PWD/qt-build"
INSTALL_DIR="$BUILD_DIR/qt6-static-install"

# ソース取得済み前提
cd "$SRC_DIR"

# configure 実行
./configure -top-level \
  -prefix "$INSTALL_DIR" \
  -static -static-runtime -release \
  -opensource -confirm-license \
  -nomake examples -nomake tests \
  -no-pch \
  -qt-harfbuzz -qt-pcre -qt-zlib \
  -platform linux-g++ \
  -c++std c++20 \
  -skip qt3d -skip qtactiveqt -skip qtcharts -skip qtconnectivity \
  -skip qtdatavis3d -skip qtdoc -skip qtgamepad -skip qtgraphicaleffects \
  -skip qtimageformats -skip qtlocation -skip qtmacextras -skip qtnetworkauth \
  -skip qtpurchasing -skip qtquick3d -skip qtquickcontrols \
  -skip qtquickcontrols2 -skip qtremoteobjects -skip qtscxml \
  -skip qtsensors -skip qtserialbus -skip qtserialport -skip qtspeech \
  -skip qtsvg -skip qttools -skip qttranslations -skip qtvirtualkeyboard \
  -skip qtwayland -skip qtwebchannel -skip qtwebengine -skip qtwebsockets \
  -skip qtwebview -skip qtwinextras -skip qtlottie -skip qtmultimedia \
  -skip qtshadertools -skip qtpositioning -skip qtquicktimeline

# ビルドとインストール
cmake --build "$BUILD_DIR" --parallel
cmake --install "$BUILD_DIR"

-- Found X11_XCB: /usr/lib/x86_64-linux-gnu/libX11-xcb.so (found version "1.8.7")
-- Found XCB_XCB: /usr/lib/x86_64-linux-gnu/libxcb.so (found version "1.15")
-- Found XCB_RENDER: /usr/lib/x86_64-linux-gnu/libxcb-render.so (found version "1.15")
-- Found XCB_SHAPE: /usr/lib/x86_64-linux-gnu/libxcb-shape.so (found version "1.15")
-- Found XCB_XFIXES: /usr/lib/x86_64-linux-gnu/libxcb-xfixes.so (found version "1.15")
-- Found XCB_SHM: /usr/lib/x86_64-linux-gnu/libxcb-shm.so (found version "1.15")
-- Could NOT find XCB_ATOM (missing: XCB_ATOM_LIBRARY XCB_ATOM_INCLUDE_DIR) (found version "")
-- Could NOT find XCB_AUX (missing: XCB_AUX_LIBRARY XCB_AUX_INCLUDE_DIR) (found version "")
-- Could NOT find XCB_COMPOSITE (missing: XCB_COMPOSITE_LIBRARY XCB_COMPOSITE_INCLUDE_DIR) (found version "")
-- Could NOT find XCB_CURSOR (missing: XCB_CURSOR_LIBRARY XCB_CURSOR_INCLUDE_DIR) (found version "")
-- Could NOT find XCB_DAMAGE (missing: XCB_DAMAGE_LIBRARY XCB_DAMAGE_INCLUDE_DIR) (found version "")
-- Could NOT find XCB_DPMS (missing: XCB_DPMS_LIBRARY XCB_DPMS_INCLUDE_DIR) (found version "")
-- Could NOT find XCB_DRI2 (missing: XCB_DRI2_LIBRARY XCB_DRI2_INCLUDE_DIR) (found version "")
-- Could NOT find XCB_DRI3 (missing: XCB_DRI3_LIBRARY XCB_DRI3_INCLUDE_DIR) (found version "")
-- Could NOT find XCB_EVENT (missing: XCB_EVENT_LIBRARY XCB_EVENT_INCLUDE_DIR) (found version "")
-- Could NOT find XCB_EWMH (missing: XCB_EWMH_LIBRARY XCB_EWMH_INCLUDE_DIR) (found version "")
-- Could NOT find XCB_GLX (missing: XCB_GLX_LIBRARY XCB_GLX_INCLUDE_DIR) (found version "")
-- Found XCB_ICCCM: /usr/lib/x86_64-linux-gnu/libxcb-icccm.so (found version "0.4.1")
-- Found XCB_IMAGE: /usr/lib/x86_64-linux-gnu/libxcb-image.so (found version "0.4.0")
-- Found XCB_KEYSYMS: /usr/lib/x86_64-linux-gnu/libxcb-keysyms.so (found version "0.4.0")
-- Could NOT find XCB_PRESENT (missing: XCB_PRESENT_LIBRARY XCB_PRESENT_INCLUDE_DIR) (found version "")
-- Found XCB_RANDR: /usr/lib/x86_64-linux-gnu/libxcb-randr.so (found version "1.15")
-- Could NOT find XCB_RECORD (missing: XCB_RECORD_LIBRARY XCB_RECORD_INCLUDE_DIR) (found version "")
-- Found XCB_RENDERUTIL: /usr/lib/x86_64-linux-gnu/libxcb-render-util.so (found version "0.3.9")
-- Could NOT find XCB_RES (missing: XCB_RES_LIBRARY XCB_RES_INCLUDE_DIR) (found version "")
-- Could NOT find XCB_SCREENSAVER (missing: XCB_SCREENSAVER_LIBRARY XCB_SCREENSAVER_INCLUDE_DIR) (found version "")
-- Found XCB_SYNC: /usr/lib/x86_64-linux-gnu/libxcb-sync.so (found version "1.15")
-- Could NOT find XCB_UTIL (missing: XCB_UTIL_LIBRARY XCB_UTIL_INCLUDE_DIR) (found version "")
-- Could NOT find XCB_XEVIE (missing: XCB_XEVIE_LIBRARY XCB_XEVIE_INCLUDE_DIR) (found version "")
-- Could NOT find XCB_XF86DRI (missing: XCB_XF86DRI_LIBRARY XCB_XF86DRI_INCLUDE_DIR) (found version "")
-- Found XCB_XINERAMA: /usr/lib/x86_64-linux-gnu/libxcb-xinerama.so (found version "1.15")
-- Could NOT find XCB_XINPUT (missing: XCB_XINPUT_LIBRARY XCB_XINPUT_INCLUDE_DIR) (found version "")
-- Found XCB_XKB: /usr/lib/x86_64-linux-gnu/libxcb-xkb.so (found version "1.15")
-- Could NOT find XCB_XPRINT (missing: XCB_XPRINT_LIBRARY XCB_XPRINT_INCLUDE_DIR) (found version "")
-- Could NOT find XCB_XTEST (missing: XCB_XTEST_LIBRARY XCB_XTEST_INCLUDE_DIR) (found version "")
-- Could NOT find XCB_XV (missing: XCB_XV_LIBRARY XCB_XV_INCLUDE_DIR) (found version "")
-- Could NOT find XCB_XVMC (missing: XCB_XVMC_LIBRARY XCB_XVMC_INCLUDE_DIR XCB_XV_FOUND) (found version "")


sudo apt install -y \
  libxcb-xkb-dev \
  libxcb-cursor-dev \
  libxcb-util-dev \
  libxcb-render-util0-dev \
  libxcb-ewmh-dev \
  libxcb-icccm4-dev \
  libxcb-image0-dev \
  libxcb-keysyms1-dev \
  libxcb-randr0-dev \
  libxcb-xinerama0-dev \
  libxcb-shape0-dev \
  libxcb-xfixes0-dev \
  libxcb-sync-dev \
  libxkbcommon-x11-dev


sudo apt install -y \
  libx11-dev \
  libx11-xcb-dev \
  libxext-dev \
  libxrender-dev \
  libxfixes-dev \
  libxrandr-dev \
  libxi-dev \
  libxcomposite-dev \
  libxcursor-dev \
  libxdamage-dev \
  libxtst-dev \
  libxss-dev \
  libxv-dev



sudo apt install -y \
  libgl1-mesa-dev \
  libglu1-mesa-dev \
  libegl1-mesa-dev \
  libgbm-dev

sudo apt install -y \
  libwayland-dev \
  libxkbcommon-dev \
  libxkbcommon-x11-dev

sudo apt install -y \
  libxcb-util0-dev \
  libxcb-dri3-dev \
  libxcb-present-dev \
  libxcb-glx0-dev

libfontconfig1-dev \
    libfreetype-dev \
    libgtk-3-dev \
    libx11-dev \
    libx11-xcb-dev \
    libxcb-cursor-dev \
    libxcb-glx0-dev \
    libxcb-icccm4-dev \
    libxcb-image0-dev \
    libxcb-keysyms1-dev \
    libxcb-randr0-dev \
    libxcb-render-util0-dev \
    libxcb-shape0-dev \
    libxcb-shm0-dev \
    libxcb-sync-dev \
    libxcb-util-dev \
    libxcb-xfixes0-dev \
    libxcb-xkb-dev \
    libxcb1-dev \
    libxext-dev \
    libxfixes-dev \
    libxi-dev \
    libxkbcommon-dev \
    libxkbcommon-x11-dev \
    libxrender-dev


libatspi2.0-dev




libxcb-render
libSM
libpthread
xcb-present, xcb-glx, xcb-dri3, xcb-cursor, xkbcommon-x11

sudo apt install -y libxcb-render0-dev libsm-dev

qt-everywhere-src-6.5.3
-prefix
/opt/qt6
-static
-static-runtime
-developer-build
-skip
qtwebengine
-nomake
examples
-nomake
tests

